import { Box, PseudoBox, SimpleGrid } from "@chakra-ui/core";
import React from "react";
import { SocialMenu } from "./header/social-menu";
import { connect } from "frontity";
import FooterNav from "./fetchmenu/footermenu.js";

const FooterSection = props => (
  <Box
    as="footer"
    pos="relative"
    bg="#2a2a2a"
    py={{ base: "32px", lg: "40px" }}
    {...props}
  />
);

const FooterSectionGroup = props => (
  <SimpleGrid
    columns={{ base: 1, md: 3 }}
    maxWidth="1150px"
    mx="auto"
    width="90%"
    {...props}
  />
);

const FooterSectionItem = props => (
  <PseudoBox padding="24px" color="white" textAlign="center" {...props} />
);

const Footer = ({ state }) => {
  const { items } = state.source.get("/wp-api-menus/v2/menus/3");
  const Items = items.items;
  var listMenus = [];
  // console.log(Items);
  for (let index = 0; index < Items.length; index++) {
    const name = Items[index].title;
    const link = "/"+ Items[index].object_slug + "/";
    var list = [name, link];
    listMenus.push(list);

  }
  // console.log(listMenus);

  return(
  <FooterSection alignSelf="flex-end">
    <FooterSectionGroup>
      <FooterSectionItem
        fontWeight="bold"
        fontFamily="heading"
        textTransform="uppercase"
      >
        {/* Â© {new Date().getFullYear()} Frontity */}
        <FooterNav menu={listMenus} />

      </FooterSectionItem>


      <FooterSectionItem
        fontWeight="bold"
        fontFamily="heading"
        textTransform="uppercase"
      >
        <FooterNav menu={listMenus} />

        
      </FooterSectionItem>
      <FooterSectionItem borderColor="accent.400">
        <SocialMenu
          ml="0"
          justifyContent="center"
          menu={state.theme.socialLinks}
        />
      </FooterSectionItem>

    </FooterSectionGroup>
  </FooterSection>
  );
};

export default connect(Footer);
